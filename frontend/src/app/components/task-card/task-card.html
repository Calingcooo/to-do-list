<div
  class="p-4 rounded-md transition cursor-pointer bg-gray-50 border hover:border-gray-500"
  (click)="edit.emit(task)">
  <div class="flex items-start justify-between gap-3">
    <div>
      <p class="text-sm font-semibold capitalize" [ngClass]="titleClasses">
        {{ task.title }}
      </p>

      @if (task.description) {
      <p class="text-xs text-gray-500 mt-1">
        {{ task.description }}
      </p>
      } @else {
      <p class="text-xs text-gray-400 mt-1 italic">No description</p>
      }

      <p class="text-sm text-red-500">
        {{errorMessage}}
      </p>
    </div>

    <select
      class="text-[10px] px-2 py-1 rounded-full font-semibold uppercase cursor-pointer border hover focus:outline-none"
      [ngClass]="badgeClasses"
      [(ngModel)]="task.status"
      (click)="$event.stopPropagation()"
      (change)="onStatusChange()">
      <option value="todo">To Do</option>
      <option value="pending">In-Progress</option>
      <option value="completed">Done</option>
    </select>
  </div>

  <div
    class="mt-3 flex items-center justify-end">
    <!-- Updated: {{ task.updatedAt }} -->
    <svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6 hover:bg-gray-200 rounded-md p-1 cursor-pointer"
      (click)="edit.emit(task); $event.stopPropagation()"
      fill="none"><g
        id="SVGRepo_bgCarrier" stroke-width="0"></g><g
        id="SVGRepo_tracerCarrier" stroke-linecap="round"
        stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path
          fill="#000000" fill-rule="evenodd"
          d="M15.747 2.97a.864.864 0 011.177 1.265l-7.904 7.37-1.516.194.653-1.785 7.59-7.044zm2.639-1.366a2.864 2.864 0 00-4-.1L6.62 8.71a1 1 0 00-.26.39l-1.3 3.556a1 1 0 001.067 1.335l3.467-.445a1 1 0 00.555-.26l8.139-7.59a2.864 2.864 0 00.098-4.093zM3.1 3.007c0-.001 0-.003.002-.005A.013.013 0 013.106 3H8a1 1 0 100-2H3.108a2.009 2.009 0 00-2 2.19C1.256 4.814 1.5 7.848 1.5 10c0 2.153-.245 5.187-.391 6.81A2.009 2.009 0 003.108 19H17c1.103 0 2-.892 2-1.999V12a1 1 0 10-2 0v5H3.106l-.003-.002a.012.012 0 01-.002-.005v-.004c.146-1.62.399-4.735.399-6.989 0-2.254-.253-5.37-.4-6.99v-.003zM17 17c-.001 0 0 0 0 0zm0 0z"></path>
      </g></svg>
    <svg xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6 text-red-500 hover:text-red-700 hover:bg-gray-200 rounded-md p-1 cursor-pointer"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4m-4 0a1 1 0 00-1 1v1h6V4a1 1 0 00-1-1m-4 0h4" />
    </svg>
  </div>
</div>
